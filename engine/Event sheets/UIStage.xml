<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>UIStage</name>
    <events>
        <comment>p1: Stage</comment>
        <event-block collapsed="1" sid="8060985393539423">
            <conditions>
                <condition id="0" name="On function" sid="6870888253004275" type="Function">
                    <param id="0" name="Name">&quot;HideStageUI&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="8246451767071341">
                    <conditions>
                        <condition id="-11" name="For Each" sid="7976625310944111" type="System">
                            <param id="0" name="Object">NPC</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="3704390823294383" type="NPC">
                            <param id="0" name="Instance variable">Stage</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="197877896226907" type="Function">
                            <param id="0" name="Name">&quot;HideNPCUI&quot;</param>
                            <param id="1" name="Parameter {n}">NPC.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5673427479400055">
                    <conditions>
                        <condition id="-11" name="For Each" sid="4086342694260254" type="System">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="8650228694331234" type="Player">
                            <param id="0" name="Instance variable">CurrentStage</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="4391312858453261" type="Function">
                            <param id="0" name="Name">&quot;HidePlayerUI&quot;</param>
                            <param id="1" name="Parameter {n}">Player.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="6888331275258145" title="NPCUI">
            <sub-events>
                <comment>XXX Due to defered &quot;TextAutoResize new text was drawn&quot; here we have race. If &quot;continue&quot; is triggered as next ui event then we loose QuestRuntimeInterface fileds values. Thus we should readl all the QuestRuntimeInterface values before &quot;continue&quot; can be generated.</comment>
                <event-block sid="2078795932936655">
                    <conditions>
                        <condition id="0" name="On function" sid="6830635473425752" type="Function">
                            <param id="0" name="Name">&quot;ShowNPCPhrase&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="8098606903236478" type="NPC">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="3435159101825479" type="NPCPhraseTxt">
                            <param id="0" name="Text">QuestRuntimeInterface.getText</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9255208735694716">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="9125257067185511" type="System">
                                    <param id="0" name="First value">QuestRuntimeInterface.getPhraseType</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;SPEAK&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="4584569239759603" type="NPCSpeechBg">
                                    <param id="0" name="Animation">&quot;Speak&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6315473732246069">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="7943965306799148" type="System">
                                    <param id="0" name="First value">QuestRuntimeInterface.getPhraseType</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;THINK&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="7118728048350618" type="NPCSpeechBg">
                                    <param id="0" name="Animation">&quot;Think&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6689006835659497">
                    <conditions>
                        <condition behavior="TextAutoResize" id="0" name="New text redrawn" sid="3187111328691282" type="NPCPhraseTxt" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7807202322977173">
                            <conditions />
                            <actions>
                                <action id="-6" name="Set height" sid="670036728854573" type="NPCPhraseBg">
                                    <param id="0" name="Height">NPCPhraseTxt.Height</param>
                                </action>
                                <action id="-6" name="Set height" sid="6979975419864407" type="NPCSpeechBg">
                                    <param id="0" name="Height">NPC_PHRASE_TXT_Y + NPCPhraseTxt.Height + NPC_PHRASE_TXT_Y  + NPC_PHRASE_COCK_HEIGHT</param>
                                </action>
                                <action id="-3" name="Set position" sid="349926966167115" type="NPCSpeechBg">
                                    <param id="0" name="X">(NPC.ImagePointCount &gt; 0 ? NPC.ImagePointX(&quot;SpeechOrigin&quot;) : NPC.X)  - (NPCSpeechBg.ImagePointX(&quot;Cock&quot;) - NPCSpeechBg.X)</param>
                                    <param id="1" name="Y">(NPC.ImagePointCount &gt; 0 ? NPC.ImagePointY(&quot;SpeechOrigin&quot;) : (NPC.Y - NPC.Height * 6 / 10))  - (NPCSpeechBg.ImagePointY(&quot;Cock&quot;) - NPCSpeechBg.Y)</param>
                                </action>
                                <action id="-3" name="Set position" sid="2967799778605404" type="NPCPhraseBg">
                                    <param id="0" name="X">NPCSpeechBg.X + NPC_PHRASE_BG_X</param>
                                    <param id="1" name="Y">NPCSpeechBg.Y + NPC_PHRASE_BG_Y</param>
                                </action>
                                <action id="-3" name="Set position" sid="3721250529910131" type="NPCPhraseTxt">
                                    <param id="0" name="X">NPCSpeechBg.X + NPC_PHRASE_TXT_X</param>
                                    <param id="1" name="Y">NPCSpeechBg.Y + NPC_PHRASE_TXT_Y</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="4059159985887111" type="NPCPhraseTxt" />
                                <action id="-25" name="Move to bottom" sid="8359475050570166" type="NPCPhraseBg" />
                                <action id="-25" name="Move to bottom" sid="1453223970807876" type="NPCSpeechBg" />
                                <action behavior="Pin" id="0" name="Pin to object" sid="7434869015889325" type="NPCSpeechBg">
                                    <param id="0" name="Pin to">NPCPinPoint</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="7699992971921248" type="NPCPhraseTxt">
                                    <param id="0" name="Pin to">NPCPinPoint</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="8282989199388827" type="NPCPhraseBg">
                                    <param id="0" name="Pin to">NPCPinPoint</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="1081352400685799" type="NPCPhraseBg">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="8139020019298476" type="NPCSpeechBg">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="9521233943014458" type="NPCPhraseTxt">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="1516959210380085">
                    <conditions>
                        <condition id="0" name="On function" sid="2366759345547053" type="Function">
                            <param id="0" name="Name">&quot;ShowNPCQuiz&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="5004279290647358" type="NPC">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="3080014962192916" type="Function">
                            <param id="0" name="Name">&quot;ShowNPCPhrase&quot;</param>
                            <param id="1" name="Parameter {n}">NPC.UID</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="238142047908137" type="NPCAns1Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer1Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="7803463118312961" type="NPCAns2Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer2Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="1301381891047896" type="NPCAns3Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer3Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="7047921950740458" type="NPCAns4Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer4Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="1" name="CompleteAll" sid="715854554933087" type="NPCAns1Txt" />
                        <action id="0" name="Call function" sid="7683840746796909" type="Function">
                            <param id="0" name="Name">&quot;PositionNPCQuizGUI&quot;</param>
                            <param id="1" name="Parameter {n}">NPC.UID</param>
                        </action>
                        <action id="-15" name="Set visible" sid="6668196296423511" type="NPCAnsBg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9728735999042252" type="NPCAns1Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8656948678580345" type="NPCAns2Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="4687892094028665" type="NPCAns3Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="7525626488350249" type="NPCAns4Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="7152188539941949" type="NPCAns1Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="1639646023139359" type="NPCAns2Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="5864776833119065" type="NPCAns3Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="7910089367447977" type="NPCAns4Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block collapsed="1" sid="4475203334158127">
                    <conditions>
                        <condition id="0" name="On function" sid="9390743698732721" type="Function">
                            <param id="0" name="Name">&quot;PositionNPCQuizGUI&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="9066962409325767" type="NPC">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="133433475393116">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5944204147524873" type="System">
                                    <param id="0" name="First value">NPCAns1Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="9883973034260622" type="NPCAns1Bg">
                                    <param id="0" name="Height">NPCAns1Txt.Height + NPC_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="9764208878352524" type="NPCAns1Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAnsBg.Y + NPC_ANS_BG_TOP_MARGIN</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8867433264894192">
                            <conditions>
                                <condition id="-22" name="Else" sid="998671499629896" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="9007006594559548" type="NPCAns1Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="2987208545485111" type="NPCAns1Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAnsBg.Y + NPC_ANS_BG_TOP_MARGIN</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1817594362679079">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8541014000658736" type="System">
                                    <param id="0" name="First value">NPCAns2Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="2464222663776891" type="NPCAns2Bg">
                                    <param id="0" name="Height">NPCAns2Txt.Height + NPC_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="605899859820179" type="NPCAns2Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns1Bg.Y + NPCAns1Bg.Height + NPC_ANS_BG_Y_DIST</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3026739643522343">
                            <conditions>
                                <condition id="-22" name="Else" sid="3486118742370294" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="8646492392964717" type="NPCAns2Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="6679013600007322" type="NPCAns2Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns1Bg.Y + NPCAns1Bg.Height</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="289288951882823">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2299170420701446" type="System">
                                    <param id="0" name="First value">NPCAns3Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="5966298807645014" type="NPCAns3Bg">
                                    <param id="0" name="Height">NPCAns3Txt.Height + NPC_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="5313931174948807" type="NPCAns3Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns2Bg.Y + NPCAns2Bg.Height + NPC_ANS_BG_Y_DIST</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1633160379346443">
                            <conditions>
                                <condition id="-22" name="Else" sid="6711006590899498" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="6937123894653051" type="NPCAns3Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="5527584129420852" type="NPCAns3Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns2Bg.Y + NPCAns2Bg.Height</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8247585915835157">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="3291879740107463" type="System">
                                    <param id="0" name="First value">NPCAns4Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="4410973701617577" type="NPCAns4Bg">
                                    <param id="0" name="Height">NPCAns4Txt.Height + NPC_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="431141418198565" type="NPCAns4Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns3Bg.Y + NPCAns3Bg.Height + NPC_ANS_BG_Y_DIST</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8862456142898055">
                            <conditions>
                                <condition id="-22" name="Else" sid="1915309051534283" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="318783883161321" type="NPCAns4Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="5838428943801131" type="NPCAns4Bg">
                                    <param id="0" name="X">NPCAnsBg.X + NPC_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns3Bg.Y + NPCAns3Bg.Height</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3859603963106718">
                            <conditions />
                            <actions>
                                <action id="-3" name="Set position" sid="5106522144868017" type="NPCAns1Txt">
                                    <param id="0" name="X">NPCAns1Bg.X + NPC_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns1Bg.Y + NPC_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-3" name="Set position" sid="8100471863973268" type="NPCAns2Txt">
                                    <param id="0" name="X">NPCAns2Bg.X + NPC_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns2Bg.Y + NPC_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-3" name="Set position" sid="4033601855199299" type="NPCAns3Txt">
                                    <param id="0" name="X">NPCAns3Bg.X + NPC_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns3Bg.Y + NPC_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-3" name="Set position" sid="1091522713647397" type="NPCAns4Txt">
                                    <param id="0" name="X">NPCAns4Bg.X + NPC_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">NPCAns4Bg.Y + NPC_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-6" name="Set height" sid="3719763003702956" type="NPCAnsBg">
                                    <param id="0" name="Height">NPCAns4Bg.Y - NPCAnsBg.Y + NPCAns4Bg.Height + NPC_ANS_BG_TOP_MARGIN</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="7207011795243999" type="NPCAns1Txt" />
                                <action id="-25" name="Move to bottom" sid="5608622947373814" type="NPCAns2Txt" />
                                <action id="-25" name="Move to bottom" sid="3251373192112953" type="NPCAns3Txt" />
                                <action id="-25" name="Move to bottom" sid="3684425816928086" type="NPCAns4Txt" />
                                <action id="-25" name="Move to bottom" sid="8509252541780533" type="NPCAns1Bg" />
                                <action id="-25" name="Move to bottom" sid="3065179902965214" type="NPCAns2Bg" />
                                <action id="-25" name="Move to bottom" sid="3010333926913475" type="NPCAns3Bg" />
                                <action id="-25" name="Move to bottom" sid="2223528250333164" type="NPCAns4Bg" />
                                <action id="-25" name="Move to bottom" sid="3180386854144706" type="NPCAnsBg" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6974911674457671">
                    <conditions>
                        <condition id="0" name="On function" sid="7343618476345899" type="Function">
                            <param id="0" name="Name">&quot;HideNPCUI&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="3795721353744262" type="NPC">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="2232269637729392" type="NPCPhraseTxt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8951861471942926" type="NPCPhraseBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3672432380044368" type="NPCSpeechBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9445378560020443" type="NPCAnsBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="4151941107727719" type="NPCAns1Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8158892272138155" type="NPCAns2Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="1441057587393959" type="NPCAns3Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8038671011491533" type="NPCAns4Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="7494146649716919" type="NPCAns1Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="4073697571337978" type="NPCAns2Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="2987597795263536" type="NPCAns3Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="7638784932733143" type="NPCAns4Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="" sid="6702021473764103" title="PlayerUI">
            <sub-events>
                <event-block sid="566202086767859">
                    <conditions>
                        <condition id="0" name="On function" sid="1757451801164955" type="Function">
                            <param id="0" name="Name">&quot;ShowPlayerPhrase&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="6911479784215454" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="8448293784846375" type="PlayerPhraseTxt">
                            <param id="0" name="Text">QuestRuntimeInterface.getText</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2153683620744093">
                    <conditions>
                        <condition behavior="TextAutoResize" id="0" name="New text redrawn" sid="5342987844029183" type="PlayerPhraseTxt" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="3336207269604883">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="6746007235374595" type="System">
                                    <param id="0" name="First value">QuestRuntimeInterface.getPhraseType</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;SPEAK&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="6707885725244835" type="PlayerSpeechBg">
                                    <param id="0" name="Animation">&quot;Speak&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5047793466862367">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="4239130951151388" type="System">
                                    <param id="0" name="First value">QuestRuntimeInterface.getPhraseType</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;THINK&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="3434206596030371" type="PlayerSpeechBg">
                                    <param id="0" name="Animation">&quot;Think&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1485529321202152">
                            <conditions />
                            <actions>
                                <action id="-6" name="Set height" sid="8776963115181669" type="PlayerPhraseBg">
                                    <param id="0" name="Height">PlayerPhraseTxt.Height</param>
                                </action>
                                <action id="-6" name="Set height" sid="6224875489856904" type="PlayerSpeechBg">
                                    <param id="0" name="Height">PLAYER_PHRASE_TXT_Y + PlayerPhraseTxt.Height + PLAYER_PHRASE_TXT_Y  + PLAYER_PHRASE_COCK_HEIGHT</param>
                                </action>
                                <action id="-3" name="Set position" sid="2978384373826769" type="PlayerSpeechBg">
                                    <param id="0" name="X">(Player.ImagePointCount &gt; 0 ? Player.ImagePointX(&quot;SpeechOrigin&quot;) : Player.X)  - (PlayerSpeechBg.ImagePointX(&quot;Cock&quot;) - PlayerSpeechBg.X)</param>
                                    <param id="1" name="Y">(Player.ImagePointCount &gt; 0 ? Player.ImagePointY(&quot;SpeechOrigin&quot;) : (Player.Y - Player.Height * 6 / 10))  - (PlayerSpeechBg.ImagePointY(&quot;Cock&quot;) - PlayerSpeechBg.Y)</param>
                                </action>
                                <action id="-3" name="Set position" sid="7758974727402091" type="PlayerPhraseBg">
                                    <param id="0" name="X">PlayerSpeechBg.X + PLAYER_PHRASE_BG_X</param>
                                    <param id="1" name="Y">PlayerSpeechBg.Y + PLAYER_PHRASE_BG_Y</param>
                                </action>
                                <action id="-3" name="Set position" sid="7234947592017687" type="PlayerPhraseTxt">
                                    <param id="0" name="X">PlayerSpeechBg.X + PLAYER_PHRASE_TXT_X</param>
                                    <param id="1" name="Y">PlayerSpeechBg.Y + PLAYER_PHRASE_TXT_Y</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="4533967939786091" type="PlayerPhraseTxt" />
                                <action id="-25" name="Move to bottom" sid="7078895510264422" type="PlayerPhraseBg" />
                                <action id="-25" name="Move to bottom" sid="2858302157683358" type="PlayerSpeechBg" />
                                <action behavior="Pin" id="0" name="Pin to object" sid="6862991081393966" type="PlayerSpeechBg">
                                    <param id="0" name="Pin to">PlayerPinPoint</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="9639814433129711" type="PlayerPhraseTxt">
                                    <param id="0" name="Pin to">PlayerPinPoint</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="4201556137728618" type="PlayerPhraseBg">
                                    <param id="0" name="Pin to">PlayerPinPoint</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="8723165850772302" type="PlayerPhraseTxt">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="2707988200121936" type="PlayerPhraseBg">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="1056599444429625" type="PlayerSpeechBg">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="0" name="Call function" sid="7067417842225699" type="Function">
                                    <param id="0" name="Name">&quot;AnimPlayerSay&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="2311930963919224">
                    <conditions>
                        <condition id="0" name="On function" sid="1546117940917564" type="Function">
                            <param id="0" name="Name">&quot;ShowPlayerQuiz&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="596242356038575" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="6954710528723984" type="Function">
                            <param id="0" name="Name">&quot;ShowPlayerPhrase&quot;</param>
                            <param id="1" name="Parameter {n}">Player.UID</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="4331935626829113" type="PlayerAns1Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer1Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="5431462874773578" type="PlayerAns2Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer2Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="7009269611684178" type="PlayerAns3Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer3Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="0" name="SetTextAndAutoResize" sid="647585997233084" type="PlayerAns4Txt">
                            <param id="0" name="Text">QuestRuntimeInterface.getAnswer4Text</param>
                        </action>
                        <action behavior="TextAutoResize" id="1" name="CompleteAll" sid="3067913921391241" type="PlayerAns1Txt" />
                        <action id="0" name="Call function" sid="1390912680364879" type="Function">
                            <param id="0" name="Name">&quot;PositionPlayerQuizGUI&quot;</param>
                            <param id="1" name="Parameter {n}">Player.UID</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9311086813718043" type="PlayerAns1Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3827329357193811" type="PlayerAns2Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8990848125512814" type="PlayerAns3Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9371616957753334" type="PlayerAns4Txt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="2758666962027994" type="PlayerAns1Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3669405995924112" type="PlayerAns2Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3739859302350993" type="PlayerAns3Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="2825439356754587" type="PlayerAns4Bg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8997221757649511" type="PlayerAnsBg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1790664730454496">
                    <conditions>
                        <condition id="0" name="On function" sid="3442607008895169" type="Function">
                            <param id="0" name="Name">&quot;PositionPlayerQuizGUI&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="1075753689903673" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6831849289174047">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="484238232586131" type="System">
                                    <param id="0" name="First value">PlayerAns1Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="3367011381450719" type="PlayerAns1Bg">
                                    <param id="0" name="Height">PlayerAns1Txt.Height + PLAYER_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="8154023466681807" type="PlayerAns1Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAnsBg.Y + PLAYER_ANS_BG_TOP_MARGIN</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2295744947018604">
                            <conditions>
                                <condition id="-22" name="Else" sid="4917762979996623" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="1478427077474661" type="PlayerAns1Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="6916159493836778" type="PlayerAns1Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAnsBg.Y + PLAYER_ANS_BG_TOP_MARGIN</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="69717981260904">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2309747325411348" type="System">
                                    <param id="0" name="First value">PlayerAns2Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="8342347727981312" type="PlayerAns2Bg">
                                    <param id="0" name="Height">PlayerAns2Txt.Height + PLAYER_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="76293388525904" type="PlayerAns2Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns1Bg.Y + PlayerAns1Bg.Height + PLAYER_ANS_BG_Y_DIST</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3333513996977903">
                            <conditions>
                                <condition id="-22" name="Else" sid="5642333086175663" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="3909571634781177" type="PlayerAns2Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="3654068130509252" type="PlayerAns2Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns1Bg.Y + PlayerAns1Bg.Height</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6646949796704526">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="923105179653783" type="System">
                                    <param id="0" name="First value">PlayerAns3Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="1296792445337202" type="PlayerAns3Bg">
                                    <param id="0" name="Height">PlayerAns3Txt.Height + PLAYER_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="9653494786675671" type="PlayerAns3Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns2Bg.Y + PlayerAns2Bg.Height + PLAYER_ANS_BG_Y_DIST</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4124198209286696">
                            <conditions>
                                <condition id="-22" name="Else" sid="7677623629624812" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="9496344784428233" type="PlayerAns3Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="5059962030781865" type="PlayerAns3Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns2Bg.Y + PlayerAns2Bg.Height</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2208100340816579">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2228007191694664" type="System">
                                    <param id="0" name="First value">PlayerAns4Txt.Height</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="6250581031262538" type="PlayerAns4Bg">
                                    <param id="0" name="Height">PlayerAns4Txt.Height + PLAYER_ANS_TXT_TOP_MARGIN*2</param>
                                </action>
                                <action id="-3" name="Set position" sid="1178944289900552" type="PlayerAns4Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns3Bg.Y + PlayerAns3Bg.Height + PLAYER_ANS_BG_Y_DIST</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5293465441251764">
                            <conditions>
                                <condition id="-22" name="Else" sid="3660630623006651" type="System" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="7269472480285541" type="PlayerAns4Bg">
                                    <param id="0" name="Height">0</param>
                                </action>
                                <action id="-3" name="Set position" sid="282306790884886" type="PlayerAns4Bg">
                                    <param id="0" name="X">PlayerAnsBg.X + PLAYER_ANS_BG_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns3Bg.Y + PlayerAns3Bg.Height</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9438731788077116">
                            <conditions />
                            <actions>
                                <action id="-3" name="Set position" sid="6764178789273941" type="PlayerAns1Txt">
                                    <param id="0" name="X">PlayerAns1Bg.X + PLAYER_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns1Bg.Y + PLAYER_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-3" name="Set position" sid="2139552392737145" type="PlayerAns2Txt">
                                    <param id="0" name="X">PlayerAns2Bg.X + PLAYER_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns2Bg.Y + PLAYER_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-3" name="Set position" sid="1321162381734923" type="PlayerAns3Txt">
                                    <param id="0" name="X">PlayerAns3Bg.X + PLAYER_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns3Bg.Y + PLAYER_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-3" name="Set position" sid="1646388438056675" type="PlayerAns4Txt">
                                    <param id="0" name="X">PlayerAns4Bg.X + PLAYER_ANS_TXT_LEFT_MARGIN</param>
                                    <param id="1" name="Y">PlayerAns4Bg.Y + PLAYER_ANS_TXT_TOP_MARGIN</param>
                                </action>
                                <action id="-6" name="Set height" sid="5292893641608594" type="PlayerAnsBg">
                                    <param id="0" name="Height">PlayerAns4Bg.Y - PlayerAnsBg.Y + PlayerAns4Bg.Height + PLAYER_ANS_BG_TOP_MARGIN</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="7442356210584287" type="PlayerAns1Txt" />
                                <action id="-25" name="Move to bottom" sid="577992743770648" type="PlayerAns2Txt" />
                                <action id="-25" name="Move to bottom" sid="4948835120493704" type="PlayerAns3Txt" />
                                <action id="-25" name="Move to bottom" sid="5768246217138629" type="PlayerAns4Txt" />
                                <action id="-25" name="Move to bottom" sid="8374548490367388" type="PlayerAns1Bg" />
                                <action id="-25" name="Move to bottom" sid="5243444303535778" type="PlayerAns2Bg" />
                                <action id="-25" name="Move to bottom" sid="4338960413156754" type="PlayerAns3Bg" />
                                <action id="-25" name="Move to bottom" sid="3837830004429825" type="PlayerAns4Bg" />
                                <action id="-25" name="Move to bottom" sid="3902846190293049" type="PlayerAnsBg" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4401104733867801">
                    <conditions>
                        <condition id="0" name="On function" sid="2281091698438416" type="Function">
                            <param id="0" name="Name">&quot;HidePlayerUI&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="7274281172612733" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="3549996884102819" type="PlayerPhraseTxt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9143839751917798" type="PlayerAns1Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="7188716658708552" type="PlayerAns2Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="4034530674309775" type="PlayerAns3Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="6888464399982306" type="PlayerAns4Txt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="866011420139008" type="PlayerAns1Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="3990253066213187" type="PlayerAns2Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8320872167310339" type="PlayerAns3Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="1247759749381549" type="PlayerAns4Bg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9717765267155444" type="PlayerAnsBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="1266843181603526" type="PlayerPhraseBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8111916696491169" type="PlayerSpeechBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
