<div class="container" id="script-editor-properties-window" ng-controller="ScriptEditorPropertiesWindowController">
    <div class="row" ng-show="cond !== null">
        <div class="col-xs-12">
            <div class="form-group has-feedback">
                <label class="control-label" for="type">Condition Type</label>
                <select name="type"
                        class="control-label select"
                        ng-model="cond.type"
                        ng-change="condTypeChanged()"
                        ng-options="type.id as type.title for type in condTypes(cond)">
                </select>
            </div>
            <div class="form-group has-feedback" ng-show="cond.getType() === QUEST_CONDS.OBJECT_CLICKED">
                <label class="control-label" for="id">Object</label>
                <select name="id"
                        class="control-label select"
                        ng-model="cond.getProps().id"
                        ng-options="obj for obj in storylineObjects(cond)">

                </select>
            </div>
            <div class="form-group has-feedback" ng-show="cond.getType() === QUEST_CONDS.CUSTOM_EVENT">
                <label class="control-label" for="name">Name</label>
                <input ng-model="cond.getProps().name"
                       ng-change="cond.setProp('name', cond.getProps().name)"
                       type="text"
                       placeholder="Text"
                       class="form-control input-sm" />
                <span class="glyphicon glyphicon-tag form-control-feedback"></span>
            </div>
        </div>
    </div>

    <div ng-show="node !== null">
        <div class="row">
            <div class="col-xs-12">
                <div class="form-group has-feedback">
                    <label class="control-label" for="label">Label</label>
                    <input ng-model="node.label"
                           ng-change="node.setLabel(node.label)"
                           type="text"
                           placeholder="Text"
                           id="label"
                           class="form-control input-sm" />
                    <span class="glyphicon glyphicon-tag form-control-feedback"></span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12" ng-show="node.getProps().name | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="name">Name</label>
                    <input ng-model="node.getProps().name"
                        ng-change="node.setProp('name', node.getProps().name)" type="text"
                        placeholder="Text" id="name" class="form-control input-sm" />
                    <span class="glyphicon glyphicon-bookmark form-control-feedback"></span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12" ng-show="node.getProps().rollbackName | hasField">
                <div class="form-group has-feedback">
                    <label class="control-label" for="rollbackName">Rollback name</label>
                    <input ng-model="node.getProps().rollbackName"
                        ng-change="node.setProp('rollbackName', node.getProps().rollbackName)" type="text"
                        placeholder="Text" id="rollbackName" class="form-control input-sm" />
                    <span class="glyphicon glyphicon-bookmark form-control-feedback"></span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12" ng-show="node.getProps().id | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="id">Object</label>
                    <select name="id" class="control-label select"
                            ng-model="node.getProps().id"
                            ng-options="obj for obj in storylineObjects(node)">
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-6" ng-show="node.getProps().secs  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="secs">Wait </label>
                    <input id="secs"
                           class="form-control input-sm"
                           type="number"
                           placeholder="Seconds"
                           ng-model="node.getProps().secs"/>
                    <!--<span class="glyphicon glyphicon-time form-control-feedback"></span>-->
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12" ng-show="node.getProps().text  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="report">Text</label>
                    <textarea id="report"
                              class="form-control input-sm"
                              rows="2"
                              placeholder="Text"
                              ng-model="node.getProps().text">

                    </textarea>
                </div>
            </div>

            <div class="col-xs-12" ng-show="node.getProps().phraseType  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="phraseType">Appearance</label>
                    <select name="phraseType"
                            class="control-label select"
                            ng-model="node.getProps().phraseType"
                            ng-options="option.value as option.name for option in
                                [{ name: 'Speak', value: QUEST_PHRASE_TYPES.SPEAK }, { name: 'Think', value: QUEST_PHRASE_TYPES.THINK }];">
                    </select>
                </div>
            </div>

            <div class="col-xs-12" ng-show="node.getProps().ans1  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="ans1">Answer 1</label>
                    <input class="form-control input-sm"
                           type="text"
                           name="ans1"
                           ng-model="node.getProps().ans1"
                           placeholder="ANSWER OPTION 1" />
                    <span class="glyphicon glyphicon-pencil form-control-feedback"></span>
                </div>
            </div>

            <div class="col-xs-12" ng-show="node.getProps().ans2  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="ans2">Answer 2</label>
                    <input class="form-control input-sm"
                           type="text"
                           name="ans2"
                           ng-model="node.getProps().ans2"
                           placeholder="ANSWER OPTION 2" />
                    <span class="glyphicon glyphicon-pencil form-control-feedback"></span>
                </div>
            </div>

            <div class="col-xs-12" ng-show="node.getProps().ans3  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="ans3">Answer 3</label>
                    <input class="form-control input-sm"
                           type="text"
                           name="ans3"
                           ng-model="node.getProps().ans3"
                           placeholder="ANSWER OPTION 3" />
                    <span class="glyphicon glyphicon-pencil form-control-feedback"></span>
                </div>
            </div>

            <div class="col-xs-12" ng-show="node.getProps().ans4  | hasFieldValue">
                <div class="form-group has-feedback">
                    <label class="control-label" for="ans4">Answer 4</label>
                    <input class="form-control input-sm"
                           type="text"
                           name="ans4"
                           ng-model="node.getProps().ans4"
                           placeholder="ANSWER OPTION 4" />
                    <span class="glyphicon glyphicon-pencil form-control-feedback"></span>
                </div>
            </div>
        </div>

        <div class="row" ng-show="node.getType() === QUEST_NODES.STORYLINE">
            <div class="col-xs-12">
                <div class="form-group has-feedback">
                    <label for="objToAddId">Add Object to Storyline</label>
                    <select name="objToAddId"
                            class="control-label select"
                            ng-model="objToAddId"
                            ng-options="obj for obj in stageObjectPool(node)"></select>
                </div>
                <div class="form-group has-feedback">
                    <button class="btn btn-sm btn-block btn-primary"
                            ng-click="addObjectToStoryLine()">
                        Add to story line
                    </button>
                    <ul class="breadcrumb">
                        <li class="active"
                            ng-repeat="obj in node.getProps().objs">
                            {{ obj }}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="row" ng-show="node.getType() === QUEST_NODES.STAGE">
        <div class="col-xs-12">
            <div class="input-group input-group-sm">
                <input id="appendedInputButton-04"
                       class="form-control"
                       type="text"
                       placeholder="Add Object to Stage"
                       ng-model="objToAddId"
                       required ng-maxlength="50">
                <span class="input-group-btn">
                    <button class="btn btn-default"
                            type="button"
                            ng-click="addObjectToStage()">
                    <span class="glyphicon glyphicon-ok form-control-feedback"></span>
                    </button>
                </span>
            </div>
            <ul class="breadcrumb">
                <li class="active" 
                    ng-repeat="obj in node.getProps().objs">
                    {{ obj }}
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-6" ng-show="node.continue  | hasFieldValue">
            <div>
                <label class="control-label" for="continue">Sequence?</label>
                <select name="continue"
                        class="control-label select"
                        ng-model="node.continue" ng-change="node.setContinue(node.continue)"
                        ng-options="option.value as option.name for option in [{ name: 'Yes', value: true }, { name: 'No', value: false }];">
                </select>
            </div>
        </div>
    </div>

    <div class="row" ng-show="node.getType() === QUEST_NODES.PLAYER_MOVEMENT">
        <div class="col-xs-6" ng-show="node.getProps().enabled | hasFieldValue">
            <div>
                <label class="control-label" for="enabled">Enabled?</label>
                <select name="enabled"
                        class="control-label select"
                        ng-model="node.getProps().enabled" ng-change="node.setProp('enabled', node.getProps().enabled)"
                        ng-options="option.value as option.name for option in [{ name: 'Yes', value: true }, { name: 'No', value: false }];">
                </select>
            </div>
        </div>
    </div>

    <div class="row" ng-show="node.getType() === QUEST_NODES.FUNC_CALL">
        <div class="col-xs-6">
            <div>
                <label class="control-label" for="source">Source</label>
                <select name="source"
                        class="control-label select"
                        ng-model="node.getProps().source" ng-change="node.setProp('source', node.getProps().source)"
                        ng-options="option.value as option.name for option in [{ name: 'Construct2', value: FUNC_SOURCES.c2 }, { name: 'Javascript', value: FUNC_SOURCES.js }];">
                </select>
            </div>

            <div>
                <hr/>
                <label class="control-label" for="parameters">Parameters</label>
                <button class="btn btn-sm btn-primary"
                    ng-click="addParam()">
                    Add
                </button>
                <hr/>

                <div class="input-group-sm form-group" ng-repeat="param in node.getProps().params">
                    <label class="control-label" for="name">Name: </label>
                    <button class="btn btn-sm btn-primary"
                        ng-click="delParam(param.name)">
                        Del
                    </button>
                    <input class="form-control"
                       type="text"
                       name="name"
                       ng-model="param.name"
                       placeholder="Name" />

                    <label class="control-label" for="value">Value: </label>
                    <textarea class="form-control input-sm"
                              rows="2"
                              placeholder="Value"
                              ng-model="param.value">
                    </textarea>

                    <label class="control-label" for="type">Type: </label>
                    <select name="type"
                        class="control-label select"
                        ng-model="param.type"
                        ng-options="option.value as option.name for option in [{ name: 'String', value: FUNC_CALL_PARAMS.str }, { name: 'Number', value: FUNC_CALL_PARAMS.num }];">
                    </select>
                    <hr/>
                </div>
            </div>
        </div>
    </div>

</div>
